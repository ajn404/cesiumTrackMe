import{r as u,M as d,j as n,B as s}from"./index-BXuqKXQB.js";import{u as h}from"./useCesium-CCaw3wJj.js";const g=({viewer:i,duration:o=2})=>{const t=u.useRef(i==null?void 0:i.current);return u.useEffect(()=>{t.current=i==null?void 0:i.current},[i]),{flyTo:e=>{if(!t.current){console.warn("Viewer is not initialized");return}t.current.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(e.longitude,e.latitude,e.height),duration:o})},zoomIn:(e=1e3)=>{if(!t.current){console.warn("Viewer is not initialized");return}const r=t.current.camera.positionCartographic,a=r.height-e;t.current.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(Cesium.Math.toDegrees(r.longitude),Cesium.Math.toDegrees(r.latitude),a>100?a:100),duration:o})},zoomOut:(e=1e3)=>{if(!t.current){console.warn("Viewer is not initialized");return}const r=t.current.camera.positionCartographic,a=r.height+e;t.current.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(Cesium.Math.toDegrees(r.longitude),Cesium.Math.toDegrees(r.latitude),a),duration:o})},setView:(e,r=0,a=-90,c=0)=>{if(!t.current){console.warn("Viewer is not initialized");return}t.current.camera.setView({destination:Cesium.Cartesian3.fromDegrees(e.longitude,e.latitude,e.height),orientation:{heading:Cesium.Math.toRadians(r),pitch:Cesium.Math.toRadians(a),roll:Cesium.Math.toRadians(c)}})},getCurrentPosition:()=>{if(!t.current)return console.warn("Viewer is not initialized"),null;const e=t.current.camera.positionCartographic;return{longitude:Cesium.Math.toDegrees(e.longitude),latitude:Cesium.Math.toDegrees(e.latitude),height:e.height}}}};function C(){const{mapProvider:i}=u.useContext(d),{cesiumContainerRef:o,viewer:t}=h(void 0,{hideCredit:!0,defaultCamera:{longitude:116.3974,latitude:39.9093,height:1e4,heading:45,pitch:-45,roll:0},enableDrag:!1,tianDiTu:{enabled:i==="Tianditu",token:"fa4fa7129232846bfb71e9c37848b6df"}});let{flyTo:l,zoomIn:e,zoomOut:r,setView:a}=g({viewer:t});return n.jsxs("div",{className:"h-full w-full",children:[n.jsx("div",{ref:o,className:"h-full w-full"}),n.jsxs("div",{className:"absolute top-5 right-5 z-10 rounded-lg bg-white/90 p-3 dark:bg-gray-800/90 dark:text-white",children:[n.jsx(s,{variant:"outline",className:"hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",onClick:()=>{l({longitude:116.3974,latitude:39.9093,height:1e4})},children:"flyTo"}),n.jsx(s,{variant:"outline",className:"hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",onClick:()=>{e()},children:"Zoom In"}),n.jsx(s,{variant:"outline",className:"hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",onClick:()=>{r()},children:"Zoom Out"}),n.jsx(s,{variant:"outline",className:"hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",onClick:()=>{a({longitude:116.5389,latitude:39.8209,height:500})},children:"setView"})]})]})}export{C as default};
