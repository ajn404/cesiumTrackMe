import{r as l,j as a,B as s}from"./index-DcuqsTuA.js";import{u as h}from"./useCesium-CFK1jZMS.js";const g=({viewer:i,duration:o=2})=>{const t=l.useRef(i==null?void 0:i.current);return l.useEffect(()=>{t.current=i==null?void 0:i.current},[i]),{flyTo:e=>{if(!t.current){console.warn("Viewer is not initialized");return}t.current.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(e.longitude,e.latitude,e.height),duration:o})},zoomIn:(e=1e3)=>{if(!t.current){console.warn("Viewer is not initialized");return}const r=t.current.camera.positionCartographic,n=r.height-e;t.current.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(Cesium.Math.toDegrees(r.longitude),Cesium.Math.toDegrees(r.latitude),n>100?n:100),duration:o})},zoomOut:(e=1e3)=>{if(!t.current){console.warn("Viewer is not initialized");return}const r=t.current.camera.positionCartographic,n=r.height+e;t.current.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(Cesium.Math.toDegrees(r.longitude),Cesium.Math.toDegrees(r.latitude),n),duration:o})},setView:(e,r=0,n=-90,c=0)=>{if(!t.current){console.warn("Viewer is not initialized");return}t.current.camera.setView({destination:Cesium.Cartesian3.fromDegrees(e.longitude,e.latitude,e.height),orientation:{heading:Cesium.Math.toRadians(r),pitch:Cesium.Math.toRadians(n),roll:Cesium.Math.toRadians(c)}})},getCurrentPosition:()=>{if(!t.current)return console.warn("Viewer is not initialized"),null;const e=t.current.camera.positionCartographic;return{longitude:Cesium.Math.toDegrees(e.longitude),latitude:Cesium.Math.toDegrees(e.latitude),height:e.height}}}};function f(){const{cesiumContainerRef:i,viewer:o}=h(void 0,{defaultCamera:{longitude:116.3974,latitude:39.9093,height:1e4,heading:45,pitch:-45,roll:0},enableDrag:!1});let{flyTo:t,zoomIn:u,zoomOut:e,setView:r}=g({viewer:o});return a.jsxs("div",{className:"h-full w-full",children:[a.jsx("div",{ref:i,className:"h-full w-full"}),a.jsxs("div",{className:"absolute top-5 right-5 z-10 rounded-lg bg-white/90 p-3 dark:bg-gray-800/90 dark:text-white",children:[a.jsx(s,{variant:"outline",className:"hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",onClick:()=>{t({longitude:116.3974,latitude:39.9093,height:1e4})},children:"flyTo"}),a.jsx(s,{variant:"outline",className:"hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",onClick:()=>{u()},children:"Zoom In"}),a.jsx(s,{variant:"outline",className:"hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",onClick:()=>{e()},children:"Zoom Out"}),a.jsx(s,{variant:"outline",className:"hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",onClick:()=>{r({longitude:116.5389,latitude:39.8209,height:500})},children:"setView"})]})]})}export{f as default};
